# 高级功能入门  
## keyword：
- 多文件编辑
- 可视模式
- 视窗操作
- 其他高级命令
# 实验步骤  
## 多文件编辑  
1. 使用vim编辑多个文件  
编辑多个文件有两种形式，一种是在进入vim前使用的参数就是多个文件。另一种则是进入vim后再编辑其他文件。同时创建两个文件
并编辑。  
$vim 1.txt 2.txt //进入vim打开或创建1.txt,2.txt两个文件  
当前默认进入1.txt文件的编辑界面  
- 命令行模式下输入：n编辑2.txt文件（即第二个文件），可以加！，即：n!强制切换，之前一个文件的输入没有保存，仅切换到
第二个文件。（若编辑完第一个文件没有保存就在命令行模式下输入n切换，系统就会提示错误信息）  
- 命令行模式下输入：N编辑1.txt文件，N！表示强制切换。  
**即：n表示切换到第二个即下一个文件，N表示切换到第一个即上一个文件。**  
2. 进入vim后打开新文件  
- 命令行模式下输入：e 3.txt                   //打开新文件3.txt **（特别强调，e后面只能新建一个文件，不能像之前那样新建1
，2两个文件）** 
- 命令行模式下输入:e#                         //回到前一个文件  
- 命令行模式下输入:ls                        //可以列出以前编辑过的文档  
- 命令行模式下输入:b 2.txt（或者编号）       //可以直接进入文件2.txt编辑  
- 命令行模式下输入:bd 2.txt（或者编号）     //可以删除以前编辑过的列表中的文件项目  
- 命令行模式下输入:e! 4.txt                 //新打开文件4.txt，放弃正在编辑的文件  
- 命令行模式下输入:f                      //显示正在编辑的文件名  
- 命令行模式下输入:f new.txt                //改变正在编辑的文件名字为new.txt  
3. 恢复文件  ~~（这项我并没有进行测试）~~   
如果断电等原因造成文档没保存，可以采用$vim -r 1.txt来恢复。  
## 可视模式  
在普通模式下输入 v（小写），进入字符选择模式，就可以移动光标，光标走过的地方就会选取。再次按下v后就会取消选取。  
在普通模式下输入 Shift+v（小写），进入行选择模式，按下V之后就会把整行选取，您可以上下移动光标选更多的行，同样，再按一次 Shift+v 就可以取消选取。  
在普通模式下输入 Ctrl+v（小写），这是区域选择模式，可以进行矩形区域选择，再按一次 Ctrl+v 取消选取。  
在可视模式下输入 d 删除选取区域内容  
在可视模式下输入y复制选取区域内容  
## 视窗操作  
vim 可以在一个界面里打开多个窗口进行编辑，这些编辑窗口称为 vim 的视窗。   
打开方法有很多种，例如可以使用在命令行模式下输入 :new 打开一个新的 vim 视窗，并进入视窗编辑一个新文件（普通模式下输入 Ctrl+w也可以）
- 命令行模式下输入：sp 1.txt  //打开新的水平分屏来编辑  
- 命令行模式下输入：vsp 2.txt //打开新的垂直分屏来编辑  
~**（关于这一部分看的不是很明白，在操作上也出现了一些问题，就不细说相关操作了）**~  
## 文档加密  
- 创建加密文档  
$ vim -x .txt //打开或创建1.txt文件并设置加密  
进入后就可以输入密码以及确认密码后加密文件了  
## 在vim执行外部命令  
在命令行模式中输入!可以执行外部的shell命令  
:!ls 用于显示当前目录的内容  
:!rm 2.txt用于删除名为2.txt的文件  
:w 2.txt可将当前 VIM 中正在编辑的文件另存为2.txt文件  
**特别说明：当打开vim时文件还未命名就开始编写时，可在命令行模式中输入：w 文件名来新建（另存为）文件**  
## 帮助系统  
- 普通模式下按F1打开vim自己预设的帮助文档  
- 命令行模式下输入:h shiftwidth 打开名为shiftwidth的帮助文件  
- 命令行模式下输入:ver 显示版本及参数  
## 功能设定  
命令行模式下，输入：set nu //显示行数，设定后退出vim不会保存，若要永久保存需修改vim配置文件（~/.vimrc）(一般在/etc/vim/vimrc地址下)  
其余功能设置不过多赘述，可以参考vim手册
